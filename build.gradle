version '1.0'

apply plugin: 'java'
apply plugin: 'application'

sourceCompatibility = 1.8

repositories {
    flatDir {
        dirs 'lib'
    }
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile name: 'hamcrest-core-1.3'
    compile name: 'commons-cli-1.3.1'
}

task cocor {
    println 'A message which is logged at QUIET level'

    javaexec {
        main = '-jar';
        args = ['cocor/Coco.jar',
                'cocor/minisrc.ATG',
                '-o',
                'src/main/java']
    }
}

mainClassName = 'miniSRCasm'

jar {
    manifest {
        attributes 'Main-Class': 'miniSRCasm'
    }
}